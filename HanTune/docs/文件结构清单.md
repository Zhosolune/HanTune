# 汉兜二次开发项目文件结构清单

## 项目根目录结构
```
handle-main/
├── src/                    # 源代码目录
│   ├── components/         # Vue组件目录
│   ├── logic/             # 业务逻辑模块
│   ├── styles/            # 样式文件
│   ├── App.vue            # 主应用组件
│   ├── main.ts            # 应用入口文件
│   ├── state.ts           # 状态管理
│   └── storage.ts         # 本地存储管理
├── public/                 # 静态资源目录
├── test/                  # 测试文件目录
├── tools/                 # 开发工具脚本
├── package.json           # 项目配置
├── vite.config.ts         # Vite构建配置
├── unocss.config.ts       # UnoCSS样式配置
└── tsconfig.json          # TypeScript配置
```

## 详细文件清单

### 核心逻辑模块 (src/logic/)
```
logic/
├── check.ts          # ✅ 成语验证逻辑 - 完全复用
├── utils.ts          # ✅ 工具函数 - 完全复用
├── idioms.ts         # ✅ 成语数据处理 - 完全复用
├── constants.ts      # ✅ 游戏常量 - 完全复用
├── types.ts          # ✅ 类型定义 - 完全复用
├── mode.ts           # 🆕 模式管理 - 新增
├── endless.ts        # 🆕 无尽模式引擎 - 新增
└── randomIdiom.ts    # 🆕 随机成语生成器 - 新增
```

### UI组件模块 (src/components/)
```
components/
├── CharBlock.vue          # ✅ 字符块组件 - 完全复用
├── WordBlocks.vue         # ✅ 词语块组件 - 完全复用
├── Navbar.vue             # ✅ 导航栏组件 - 完全复用
├── Modal.vue              # ✅ 模态框组件 - 完全复用
├── Keyboard.vue           # ✅ 键盘输入组件 - 完全复用
├── Play.vue               # 🛠️ 游戏主组件 - 需要修改
├── ShareButton.vue        # 🛠️ 分享按钮组件 - 需要修改
├── GameModeSelector.vue   # 🆕 模式选择界面 - 新增
└── ...                    # 其他辅助组件 - 完全复用
```

### 配置文件 (根目录)
```
├── package.json      # ✅ 项目依赖配置 - 完全复用
├── vite.config.ts    # ✅ 构建工具配置 - 完全复用
├── unocss.config.ts  # ✅ 样式系统配置 - 完全复用
├── tsconfig.json     # ✅ TypeScript配置 - 完全复用
└── ...               # 其他配置文件 - 完全复用
```

## 文件复用状态说明

### ✅ 完全复用 (无需修改)
这些文件包含稳定的核心逻辑和UI组件，可以直接复制使用：
- **逻辑模块**: 成语验证、工具函数、数据层等
- **UI组件**: 字符块、词语块、导航栏等基础组件
- **配置文件**: 构建工具、样式系统、TypeScript配置

### 🛠️ 需要修改 (轻度调整)
这些文件需要添加新模式支持或功能调整：
- **App.vue**: 添加模式选择界面集成
- **Play.vue**: 支持无尽模式轮次管理
- **ShareButton.vue**: 移除社交媒体分享选项
- **storage.ts**: 删除严格模式相关代码
- **main.ts**: 可选的模式初始化逻辑

### 🆕 全新创建 (新增功能)
这些是为支持新模式而需要全新创建的文件：
- **mode.ts**: 统一管理模式状态和切换逻辑
- **endless.ts**: 无尽模式引擎，处理连续挑战
- **randomIdiom.ts**: 智能随机成语选择和去重
- **GameModeSelector.vue**: 美观的模式选择用户界面

## 复用比例统计

| 类别 | 文件数量 | 复用状态 | 比例 |
|------|----------|----------|------|
| 逻辑模块 | 7个 | 5复用 + 2新增 | 71%复用 |
| UI组件 | 8个+ | 6复用 + 1修改 + 1新增 | 75%复用 |
| 配置文件 | 5个 | 5复用 | 100%复用 |
| **总计** | **20个+** | **16复用 + 3修改 + 3新增** | **80%+复用** |

## 开发建议

### 开发顺序
1. **第一阶段**: 完全复用所有稳定模块，确保基础功能正常
2. **第二阶段**: 修改需要调整的组件，添加模式支持
3. **第三阶段**: 创建新增功能模块，实现完整功能
4. **第四阶段**: 集成测试，确保各模块协同工作

### 注意事项
- 复用文件时注意保持原有的目录结构
- 修改文件时遵循现有的代码规范和设计模式
- 新增文件要与现有代码风格保持一致
- 定期测试确保复用和修改不会引入新的问题