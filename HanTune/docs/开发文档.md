# æ±‰å…œäºŒæ¬¡å¼€å‘æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£åŸºäºæ±‰å­—ç‰ˆWordleé¡¹ç›®è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œä¸»è¦æ·»åŠ æ¸¸æˆæ¨¡å¼é€‰æ‹©åŠŸèƒ½ï¼Œæ”¯æŒæ¯æ—¥ä¸€é¢˜å’Œæ— å°½æ¨¡å¼ï¼ŒåŒæ—¶ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚

### å¼€å‘ç›®æ ‡
- åˆ é™¤ä¸¥æ ¼æ¨¡å¼ï¼Œç®€åŒ–æ¸¸æˆé€»è¾‘
- æ·»åŠ ä¸»ç•Œé¢æ¨¡å¼é€‰æ‹©åŠŸèƒ½
- å®ç°æ— å°½æ¨¡å¼çš„è¿ç»­æŒ‘æˆ˜
- ä¼˜åŒ–åˆ†äº«åŠŸèƒ½ï¼Œç§»é™¤ç¤¾äº¤åª’ä½“é€‰é¡¹

## éœ€æ±‚åˆ†æ

### åŠŸèƒ½éœ€æ±‚
1. **æ¨¡å¼é€‰æ‹©ç•Œé¢**
   - ç¾è§‚çš„æ¨¡å¼é€‰æ‹©å¡ç‰‡è®¾è®¡
   - æ¸…æ™°çš„åŠŸèƒ½è¯´æ˜å’Œç‰¹è‰²å±•ç¤º
   - å“åº”å¼å¸ƒå±€é€‚é…

2. **æ¯æ—¥ä¸€é¢˜æ¨¡å¼**
   - ä¿æŒç°æœ‰æ¸¸æˆé€»è¾‘ä¸å˜
   - ä¿ç•™å†å²è®°å½•å’Œç»Ÿè®¡åŠŸèƒ½
   - ç»´æŒåŸæœ‰çš„æ—¶é—´é™åˆ¶æœºåˆ¶

3. **æ— å°½æ¨¡å¼**
   - éšæœºæˆè¯­ç”Ÿæˆæœºåˆ¶
   - æ”¯æŒè¿ç»­æŒ‘æˆ˜åŠŸèƒ½
   - å†æ¥ä¸€è¯æŒ‰é’®å®ç°
   - è½®æ¬¡ç»Ÿè®¡å’Œæ˜¾ç¤º

4. **åˆ†äº«åŠŸèƒ½ä¼˜åŒ–**
   - ç§»é™¤å¾®åšåˆ†äº«é€‰é¡¹
   - ç§»é™¤æ¨ç‰¹åˆ†äº«é€‰é¡¹
   - ä¿ç•™å¾®ä¿¡åˆ†äº«å’Œå¤åˆ¶é“¾æ¥åŠŸèƒ½
   - é€‚é…ä¸åŒæ¨¡å¼çš„åˆ†äº«å†…å®¹

### éåŠŸèƒ½éœ€æ±‚
- **æ€§èƒ½è¦æ±‚**: æ¨¡å¼åˆ‡æ¢å“åº”æ—¶é—´ < 500ms
- **å…¼å®¹æ€§**: æ”¯æŒä¸»æµæµè§ˆå™¨å’Œç§»åŠ¨è®¾å¤‡
- **å¯ç»´æŠ¤æ€§**: ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—åŒ–è®¾è®¡
- **å¯æ‰©å±•æ€§**: æ”¯æŒæœªæ¥æ·»åŠ æ–°æ¸¸æˆæ¨¡å¼

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            App.vue                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      GameModeSelector         â”‚  â”‚
â”‚  â”‚  (æ¨¡å¼é€‰æ‹©ç»„ä»¶)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Play.vue             â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   æ¯æ—¥æ¨¡å¼  â”‚  æ— å°½æ¨¡å¼  â”‚  â”‚    â”‚
â”‚  â”‚  â”‚   (Daily)   â”‚ (Endless) â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—
1. **æ¨¡å¼ç®¡ç†æ¨¡å—** (`mode.ts`)
   - è´Ÿè´£æ¨¡å¼åˆ‡æ¢é€»è¾‘
   - æä¾›æ¨¡å¼çŠ¶æ€ç®¡ç†
   - æ”¯æŒæ¨¡å¼åˆ¤æ–­å’ŒçŠ¶æ€é‡ç½®

2. **æ— å°½æ¨¡å¼å¼•æ“** (`endless.ts`)
   - ç®¡ç†æ— å°½æ¨¡å¼çŠ¶æ€
   - å¤„ç†è½®æ¬¡åˆ‡æ¢é€»è¾‘
   - åè°ƒéšæœºæˆè¯­ç”Ÿæˆ

3. **éšæœºæˆè¯­ç”Ÿæˆå™¨** (`randomIdiom.ts`)
   - æˆè¯­æ•°æ®ç®¡ç†å’Œç¼“å­˜
   - éšæœºé€‰æ‹©ç®—æ³•å®ç°
   - å»é‡å’Œå¾ªç¯ä½¿ç”¨æœºåˆ¶

## å¼€å‘ç¯å¢ƒ

### æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Vue 3.2.45 + Composition API
- **æ„å»ºå·¥å…·**: Vite 4.x
- **æ ·å¼æ–¹æ¡ˆ**: UnoCSS 0.47.x
- **çŠ¶æ€ç®¡ç†**: VueUse + reactive
- **å¼€å‘è¯­è¨€**: TypeScript 4.9.x
- **å›¾æ ‡åº“**: Iconify

### é¡¹ç›®ç»“æ„
```
handle-main/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ GameModeSelector.vue    # æ–°å¢ï¼šæ¨¡å¼é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ Play.vue               # ä¿®æ”¹ï¼šæ¸¸æˆä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ShareButton.vue        # ä¿®æ”¹ï¼šåˆ†äº«ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CharBlock.vue          # âœ… ç›´æ¥å¤ç”¨ï¼šå­—ç¬¦å—ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ WordBlocks.vue         # âœ… ç›´æ¥å¤ç”¨ï¼šè¯è¯­å—ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Navbar.vue             # âœ… ç›´æ¥å¤ç”¨ï¼šå¯¼èˆªæ 
â”‚   â”‚   â”œâ”€â”€ Modal.vue              # âœ… ç›´æ¥å¤ç”¨ï¼šæ¨¡æ€æ¡†
â”‚   â”‚   â””â”€â”€ ...                    # âœ… å…¶ä»–UIç»„ä»¶ç›´æ¥å¤ç”¨
â”‚   â”œâ”€â”€ logic/               # é€»è¾‘æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ mode.ts          # æ–°å¢ï¼šæ¨¡å¼ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ endless.ts       # æ–°å¢ï¼šæ— å°½æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ randomIdiom.ts   # æ–°å¢ï¼šéšæœºæˆè¯­
â”‚   â”‚   â”œâ”€â”€ check.ts         # âœ… ç›´æ¥å¤ç”¨ï¼šæˆè¯­éªŒè¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ utils.ts         # âœ… ç›´æ¥å¤ç”¨ï¼šå·¥å…·å‡½æ•°ï¼ˆæ‹¼éŸ³è§£æã€ç­”æ¡ˆæ£€æŸ¥ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ idioms.ts        # âœ… ç›´æ¥å¤ç”¨ï¼šæˆè¯­æ•°æ®å¤„ç†
â”‚   â”‚   â”œâ”€â”€ constants.ts     # âœ… ç›´æ¥å¤ç”¨ï¼šæ¸¸æˆå¸¸é‡
â”‚   â”‚   â”œâ”€â”€ types.ts         # âœ… ç›´æ¥å¤ç”¨ï¼šç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ ...              # âœ… å…¶ä»–é€»è¾‘æ¨¡å—ç›´æ¥å¤ç”¨
â”‚   â”œâ”€â”€ styles/              # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ main.css         # âœ… ç›´æ¥å¤ç”¨ï¼šåŸºç¡€æ ·å¼
â”‚   â”œâ”€â”€ main.ts              # âœ… ç›´æ¥å¤ç”¨ï¼šåº”ç”¨å…¥å£ï¼ˆå°ä¿®æ”¹ï¼‰
â”‚   â”œâ”€â”€ storage.ts           # ä¿®æ”¹ï¼šåˆ é™¤ä¸¥æ ¼æ¨¡å¼ç›¸å…³
â”‚   â”œâ”€â”€ state.ts             # âœ… ç›´æ¥å¤ç”¨ï¼šçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ App.vue              # ä¿®æ”¹ï¼šæ·»åŠ æ¨¡å¼é€‰æ‹©é€»è¾‘
â”œâ”€â”€ public/                  # é™æ€èµ„æºï¼ˆå…¨éƒ¨å¤ç”¨ï¼‰
â”œâ”€â”€ test/                    # æµ‹è¯•æ–‡ä»¶ï¼ˆå…¨éƒ¨å¤ç”¨ï¼‰
â”œâ”€â”€ tools/                   # å·¥å…·è„šæœ¬ï¼ˆå…¨éƒ¨å¤ç”¨ï¼‰
â”œâ”€â”€ package.json             # âœ… ç›´æ¥å¤ç”¨ï¼šé¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.ts           # âœ… ç›´æ¥å¤ç”¨ï¼šæ„å»ºé…ç½®
â”œâ”€â”€ unocss.config.ts         # âœ… ç›´æ¥å¤ç”¨ï¼šæ ·å¼é…ç½®
â””â”€â”€ tsconfig.json            # âœ… ç›´æ¥å¤ç”¨ï¼šTypeScripté…ç½®
```

### ä»£ç å¤ç”¨åˆ†æ
**90%+ ä»£ç å¯ç›´æ¥å¤ç”¨**ï¼š
- âœ… **æ ¸å¿ƒæ¸¸æˆé€»è¾‘**: æˆè¯­éªŒè¯ã€æ‹¼éŸ³è§£æã€å·¥å…·å‡½æ•°ç­‰
- âœ… **UIç»„ä»¶**: å­—ç¬¦å—ã€è¯è¯­å—ã€å¯¼èˆªæ ã€æ¨¡æ€æ¡†ç­‰
- âœ… **æ ·å¼é…ç½®**: UnoCSSé…ç½®ã€åŸºç¡€æ ·å¼ã€ä¸»é¢˜å˜é‡
- âœ… **æ„å»ºé…ç½®**: Viteé…ç½®ã€TypeScripté…ç½®ã€ä¾èµ–ç®¡ç†
- âœ… **æ•°æ®å±‚**: æˆè¯­æ•°æ®ã€ç±»å‹å®šä¹‰ã€å¸¸é‡é…ç½®

**ä»…éœ€ä¿®æ”¹10%-ä»£ç **ï¼š
- ğŸ› ï¸ **ä¸»åº”ç”¨é€»è¾‘**: æ·»åŠ æ¨¡å¼é€‰æ‹©å’ŒçŠ¶æ€ç®¡ç†
- ğŸ› ï¸ **æ¸¸æˆä¸»ç»„ä»¶**: æ”¯æŒæ— å°½æ¨¡å¼çš„è½®æ¬¡åˆ‡æ¢
- ğŸ› ï¸ **åˆ†äº«åŠŸèƒ½**: ç®€åŒ–åˆ†äº«é€‰é¡¹ï¼Œç§»é™¤ç¤¾äº¤åª’ä½“
- ğŸ› ï¸ **å­˜å‚¨ç®¡ç†**: åˆ é™¤ä¸¥æ ¼æ¨¡å¼ç›¸å…³ä»£ç 

### å…³é”®å¤ç”¨æ–‡ä»¶æ¸…å•
**å®Œå…¨å¤ç”¨ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰**ï¼š
```
src/logic/check.ts          # æˆè¯­éªŒè¯é€»è¾‘
src/logic/utils.ts          # å·¥å…·å‡½æ•°ï¼ˆæ‹¼éŸ³è§£æã€ç­”æ¡ˆæ£€æŸ¥ï¼‰
src/logic/idioms.ts         # æˆè¯­æ•°æ®å¤„ç†
src/logic/constants.ts      # æ¸¸æˆå¸¸é‡
src/logic/types.ts          # ç±»å‹å®šä¹‰
src/components/CharBlock.vue     # å­—ç¬¦å—ç»„ä»¶
src/components/WordBlocks.vue    # è¯è¯­å—ç»„ä»¶
src/components/Navbar.vue        # å¯¼èˆªæ 
src/components/Modal.vue       # æ¨¡æ€æ¡†
src/styles/main.css         # åŸºç¡€æ ·å¼
vite.config.ts             # æ„å»ºé…ç½®
unocss.config.ts           # æ ·å¼é…ç½®
package.json               # é¡¹ç›®é…ç½®
```

**éœ€è¦ä¿®æ”¹ï¼ˆçº¦10%ä»£ç ï¼‰**ï¼š
```
src/App.vue                 # æ·»åŠ æ¨¡å¼é€‰æ‹©ç•Œé¢
src/components/Play.vue     # æ”¯æŒæ— å°½æ¨¡å¼è½®æ¬¡åˆ‡æ¢
src/components/ShareButton.vue  # ç§»é™¤ç¤¾äº¤åª’ä½“åˆ†äº«
src/storage.ts              # åˆ é™¤ä¸¥æ ¼æ¨¡å¼ç›¸å…³
src/main.ts                 # å¯é€‰çš„æ¨¡å¼åˆå§‹åŒ–
```

**å…¨æ–°åˆ›å»ºï¼ˆçº¦5ä¸ªæ–‡ä»¶ï¼‰**ï¼š
```
src/logic/mode.ts           # æ¨¡å¼ç®¡ç†
src/logic/endless.ts        # æ— å°½æ¨¡å¼å¼•æ“
src/logic/randomIdiom.ts    # éšæœºæˆè¯­ç”Ÿæˆå™¨
src/components/GameModeSelector.vue  # æ¨¡å¼é€‰æ‹©ç•Œé¢
```

## å¼€å‘æ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ”¹é€ 

#### 1.1 åˆ é™¤ä¸¥æ ¼æ¨¡å¼
**ä¿®æ”¹æ–‡ä»¶**: `src/storage.ts`
```typescript
// åˆ é™¤ä»¥ä¸‹ä»£ç 
const strictMode = useStorage('hanziwordle-strict', false)
export const useStrict = computed(() => strictMode.value)
```

**ä¿®æ”¹æ–‡ä»¶**: `src/components/Play.vue`
- ç§»é™¤ä¸¥æ ¼æ¨¡å¼åˆ‡æ¢æŒ‰é’®
- åˆ é™¤ä¸¥æ ¼æ¨¡å¼ç›¸å…³é€»è¾‘
- ç®€åŒ–çŠ¶æ€ç®¡ç†ä»£ç 

#### 1.2 åˆ›å»ºæ¨¡å¼ç®¡ç†æ¨¡å—
**æ–°å»ºæ–‡ä»¶**: `src/logic/mode.ts`
```typescript
import { ref, computed } from 'vue'

export type GameMode = 'daily' | 'endless'

const currentMode = ref<GameMode>('daily')

export function switchMode(mode: GameMode) {
  currentMode.value = mode
}

export const isDailyMode = computed(() => currentMode.value === 'daily')
export const isEndlessMode = computed(() => currentMode.value === 'endless')
```

#### 1.3 åˆ›å»ºæ— å°½æ¨¡å¼å¼•æ“
**æ–°å»ºæ–‡ä»¶**: `src/logic/endless.ts`
```typescript
import { ref, computed } from 'vue'
import { getRandomIdiom } from './randomIdiom'

const endlessRound = ref(1)
const currentWord = ref('')
const currentTries = ref<string[]>([])
const isRoundFinished = ref(false)

export function initEndlessMode() {
  startNewRound()
}

export function startNewRound() {
  currentWord.value = getRandomIdiom()
  currentTries.value = []
  isRoundFinished.value = false
  endlessRound.value++
}
```

### ç¬¬äºŒé˜¶æ®µï¼šç•Œé¢å¼€å‘

#### 2.1 åˆ›å»ºæ¨¡å¼é€‰æ‹©ç»„ä»¶
**æ–°å»ºæ–‡ä»¶**: `src/components/GameModeSelector.vue`
```vue
<template>
  <div class="mode-selector min-h-screen flex items-center justify-center">
    <div class="mode-cards grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto p-8">
      
      <!-- æ¯æ—¥ä¸€é¢˜å¡ç‰‡ -->
      <div class="mode-card daily-card" @click="selectMode('daily')">
        <div class="card-icon text-6xl mb-4">ğŸ“…</div>
        <h2 class="text-2xl font-bold mb-2">æ¯æ—¥ä¸€é¢˜</h2>
        <p class="text-gray-600 mb-6">æ¯å¤©ä¸€ä¸ªæˆè¯­ï¼Œä¸å…¨çƒç©å®¶åŒæ­¥æŒ‘æˆ˜</p>
        <div class="features space-y-2">
          <div class="feature flex items-center">
            <span class="mr-2">âœ“</span>
            <span>æ¯æ—¥æ›´æ–°</span>
          </div>
          <div class="feature flex items-center">
            <span class="mr-2">âœ“</span>
            <span>å…¨çƒåŒæ­¥</span>
          </div>
          <div class="feature flex items-center">
            <span class="mr-2">âœ“</span>
            <span>å†å²è®°å½•</span>
          </div>
        </div>
      </div>
      
      <!-- æ— å°½æ¨¡å¼å¡ç‰‡ -->
      <div class="mode-card endless-card" @click="selectMode('endless')">
        <div class="card-icon text-6xl mb-4">â™¾ï¸</div>
        <h2 class="text-2xl font-bold mb-2">æ— å°½æ¨¡å¼</h2>
        <p class="text-gray-600 mb-6">è¿ç»­æŒ‘æˆ˜ï¼Œä¸æ–­çªç ´è‡ªæˆ‘æé™</p>
        <div class="features space-y-2">
          <div class="feature flex items-center">
            <span class="mr-2">âœ“</span>
            <span>æ— é™æŒ‘æˆ˜</span>
          </div>
          <div class="feature flex items-center">
            <span class="mr-2">âœ“</span>
            <span>å³æ—¶åé¦ˆ</span>
          </div>
          <div class="feature flex items-center">
            <span class="mr-2">âœ“</span>
            <span>è¿ç»­è®°å½•</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { defineEmits } from 'vue'
import { switchMode } from '~/logic/mode'

const emit = defineEmits<{
  modeSelected: [mode: 'daily' | 'endless']
}>()

function selectMode(mode: 'daily' | 'endless') {
  switchMode(mode)
  emit('modeSelected', mode)
}
</script>

<style scoped>
.mode-card {
  @apply bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 border-2 border-transparent hover:border-primary cursor-pointer;
}

.daily-card:hover {
  @apply border-blue-500;
}

.endless-card:hover {
  @apply border-green-500;
}
</style>
```

#### 2.2 ä¿®æ”¹ä¸»åº”ç”¨ç»„ä»¶
**ä¿®æ”¹æ–‡ä»¶**: `src/App.vue`
```vue
<template>
  <main font-sans text="center gray-700 dark:gray-300" select-none>
    <!-- æ–°å¢ï¼šæ¨¡å¼é€‰æ‹© -->
    <GameModeSelector 
      v-if="!modeSelected" 
      @mode-selected="handleModeSelected" 
    />
    
    <!-- åŸæœ‰æ¸¸æˆå†…å®¹ -->
    <template v-else>
      <!-- åŸæœ‰å†…å®¹ä¿æŒä¸å˜ -->
      <NotTodayBanner v-if="dayNo < daySince && isDailyMode" />
      <Navbar />
      <div p="4">
        <NoQuizToday v-if="!answer.word && isDailyMode" />
        <NoFuturePlay v-else-if="dayNo > daySince && !isDev && isDailyMode" />
        <NoPastPlay v-else-if="daySince - dayNo > DAYS_PLAY_BACK && !isDev && isDailyMode" />
        <Play v-else :mode="currentMode" @round-complete="handleRoundComplete" />
      </div>
      <ModalsLayer />
      <Confetti />
    </template>
  </main>
</template>

<script setup lang="ts">
// æ–°å¢å¯¼å…¥
import { ref } from 'vue'
import { currentMode, isDailyMode } from '~/logic/mode'
import { initEndlessMode } from '~/logic/endless'

// æ–°å¢çŠ¶æ€
const modeSelected = ref(false)

// æ–°å¢æ–¹æ³•
function handleModeSelected(mode: 'daily' | 'endless') {
  modeSelected.value = true
  if (mode === 'endless') {
    initEndlessMode()
  }
}

function handleRoundComplete() {
  // å¤„ç†è½®æ¬¡å®Œæˆé€»è¾‘
}
</script>
```

#### 2.3 ä¿®æ”¹æ¸¸æˆä¸»ç»„ä»¶
**ä¿®æ”¹æ–‡ä»¶**: `src/components/Play.vue`
```vue
<template>
  <!-- åŸæœ‰æ¨¡æ¿å†…å®¹ -->
  
  <!-- æ–°å¢ï¼šæ— å°½æ¨¡å¼å®Œæˆç•Œé¢ -->
  <Transition name="fade-in">
    <div v-if="isEndlessMode && isFinished" class="endless-complete">
      <div class="complete-message text-2xl mb-4">
        ğŸ‰ æ­å–œå®Œæˆç¬¬ {{ endlessRound }} è½®ï¼
      </div>
      <button 
        class="next-round-btn bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary-dark transition-colors"
        @click="startNextRound"
      >
        å†æ¥ä¸€è¯
      </button>
    </div>
  </Transition>
</template>

<script setup lang="ts">
// æ–°å¢å¯¼å…¥
import { isEndlessMode } from '~/logic/mode'
import { startNewRound, endlessRound } from '~/logic/endless'

const props = defineProps<{
  mode: 'daily' | 'endless'
}>()

const emit = defineEmits<{
  nextRound: []
}>()

function startNextRound() {
  if (props.mode === 'endless') {
    startNewRound()
    resetGameState()
    emit('nextRound')
  }
}

function resetGameState() {
  // é‡ç½®æ¸¸æˆçŠ¶æ€
  input.value = ''
  inputValue.value = ''
  tries.value = []
  meta.value = {}
}
</script>
```

### ç¬¬ä¸‰é˜¶æ®µï¼šåˆ†äº«åŠŸèƒ½ä¼˜åŒ–

#### 3.1 ä¿®æ”¹åˆ†äº«ç»„ä»¶
**ä¿®æ”¹æ–‡ä»¶**: `src/components/ShareButton.vue`
```vue
<template>
  <div class="share-buttons flex gap-2">
    <!-- ä¿ç•™å¾®ä¿¡åˆ†äº« -->
    <button 
      v-if="wechat" 
      @click="shareToWechat" 
      class="share-btn wechat bg-green-500 text-white px-4 py-2 rounded"
    >
      å¾®ä¿¡åˆ†äº«
    </button>
    
    <!-- ä¿ç•™å¤åˆ¶é“¾æ¥ -->
    <button 
      @click="copyLink" 
      class="share-btn copy bg-blue-500 text-white px-4 py-2 rounded"
    >
      å¤åˆ¶é“¾æ¥
    </button>
    
    <!-- åˆ é™¤ä»¥ä¸‹åˆ†äº«é€‰é¡¹ -->
    <!--
    <button v-if="weibo" @click="shareToWeibo" class="share-btn weibo">
      å¾®åšåˆ†äº«
    </button>
    <button v-if="twitter" @click="shareToTwitter" class="share-btn twitter">
      æ¨ç‰¹åˆ†äº«
    </button>
    -->
  </div>
</template>

<script setup lang="ts">
// åˆ é™¤å¾®åšå’Œæ¨ç‰¹ç›¸å…³æ–¹æ³•
// const shareToWeibo = () => { ... }
// const shareToTwitter = () => { ... }
</script>
```

## æµ‹è¯•æ–¹æ¡ˆ

### åŠŸèƒ½æµ‹è¯•
1. **æ¨¡å¼åˆ‡æ¢æµ‹è¯•**
   - æµ‹è¯•æ¨¡å¼é€‰æ‹©ç•Œé¢æ˜¾ç¤º
   - æµ‹è¯•æ¨¡å¼åˆ‡æ¢åŠŸèƒ½
   - éªŒè¯ä¸åŒæ¨¡å¼çš„çŠ¶æ€éš”ç¦»

2. **æ— å°½æ¨¡å¼æµ‹è¯•**
   - æµ‹è¯•éšæœºæˆè¯­ç”Ÿæˆ
   - æµ‹è¯•è½®æ¬¡åˆ‡æ¢åŠŸèƒ½
   - æµ‹è¯•å†æ¥ä¸€è¯æŒ‰é’®

3. **åˆ†äº«åŠŸèƒ½æµ‹è¯•**
   - éªŒè¯åˆ†äº«é€‰é¡¹æ˜¾ç¤º
   - æµ‹è¯•å¾®ä¿¡åˆ†äº«åŠŸèƒ½
   - æµ‹è¯•å¤åˆ¶é“¾æ¥åŠŸèƒ½

### æ€§èƒ½æµ‹è¯•
1. **å“åº”æ—¶é—´æµ‹è¯•**
   - æ¨¡å¼åˆ‡æ¢å“åº”æ—¶é—´ < 500ms
   - æˆè¯­åŠ è½½æ—¶é—´ < 1s
   - ç•Œé¢æ¸²æŸ“æµç•…åº¦

2. **å†…å­˜æµ‹è¯•**
   - æ£€æŸ¥å†…å­˜æ³„æ¼
   - éªŒè¯çŠ¶æ€æ¸…ç†
   - é•¿æ—¶é—´è¿è¡Œç¨³å®šæ€§

### å…¼å®¹æ€§æµ‹è¯•
1. **æµè§ˆå™¨å…¼å®¹**
   - Chrome, Firefox, Safari, Edge
   - ç§»åŠ¨ç«¯æµè§ˆå™¨

2. **è®¾å¤‡å…¼å®¹**
   - æ¡Œé¢ç«¯å“åº”å¼
   - ç§»åŠ¨ç«¯é€‚é…
   - å¹³æ¿è®¾å¤‡æ˜¾ç¤º

## éƒ¨ç½²æ–¹æ¡ˆ

### æ„å»ºé…ç½®
ä¿æŒç°æœ‰Viteé…ç½®ï¼Œæ— éœ€ç‰¹æ®Šè°ƒæ•´ï¼š
```bash
npm run build
```

### ç¯å¢ƒå˜é‡
å¯é€‰æ·»åŠ åŠŸèƒ½å¼€å…³ï¼š
```bash
# .env.production
VITE_ENABLE_ENDLESS_MODE=true
VITE_DISABLE_STRICT_MODE=true
```

### éƒ¨ç½²æ­¥éª¤
1. æœ¬åœ°æ„å»ºé¡¹ç›®
2. æµ‹è¯•æ„å»ºç»“æœ
3. éƒ¨ç½²åˆ°æœåŠ¡å™¨
4. éªŒè¯çº¿ä¸ŠåŠŸèƒ½

## ä»£ç å¤ç”¨å…³é”®ç‚¹è®°å½•

### å¤ç”¨ç»Ÿè®¡
- **å®Œå…¨å¤ç”¨**: çº¦85%ä»£ç æ— éœ€ä¿®æ”¹
- **è½»åº¦ä¿®æ”¹**: çº¦10%ä»£ç éœ€è¦è°ƒæ•´
- **å…¨æ–°åˆ›å»º**: çº¦5%ä»£ç éœ€è¦æ–°å¢

### é«˜ä»·å€¼å¤ç”¨ç»„ä»¶
1. **æ ¸å¿ƒé€»è¾‘å±‚**: `check.ts`, `utils.ts`, `idioms.ts` - æˆè¯­éªŒè¯å’Œå·¥å…·å‡½æ•°
2. **UIç»„ä»¶å±‚**: `CharBlock.vue`, `WordBlocks.vue` - æ¸¸æˆç•Œé¢æ ¸å¿ƒç»„ä»¶
3. **æ ·å¼é…ç½®**: `unocss.config.ts`, `main.css` - è§†è§‰ä¸€è‡´æ€§ä¿è¯
4. **æ„å»ºé…ç½®**: `vite.config.ts`, `tsconfig.json` - å¼€å‘ç¯å¢ƒç¨³å®š

### å¿…é¡»ä¿®æ”¹çš„å…³é”®ç‚¹
1. **åˆ é™¤ä¸¥æ ¼æ¨¡å¼**: `storage.ts`ä¸­ç§»é™¤ç›¸å…³ä»£ç 
2. **æ·»åŠ æ¨¡å¼é€‰æ‹©**: `App.vue`ä¸­é›†æˆæ¨¡å¼é€‰æ‹©ç•Œé¢
3. **æ”¯æŒæ— å°½æ¨¡å¼**: `Play.vue`ä¸­æ·»åŠ è½®æ¬¡ç®¡ç†
4. **ä¼˜åŒ–åˆ†äº«åŠŸèƒ½**: `ShareButton.vue`ä¸­ç§»é™¤ç¤¾äº¤åª’ä½“é€‰é¡¹

### æ–°å¢æ ¸å¿ƒæ¨¡å—
1. **æ¨¡å¼ç®¡ç†** (`mode.ts`): ç»Ÿä¸€ç®¡ç†æ¨¡å¼çŠ¶æ€
2. **æ— å°½æ¨¡å¼å¼•æ“** (`endless.ts`): å¤„ç†è¿ç»­æŒ‘æˆ˜é€»è¾‘
3. **éšæœºæˆè¯­ç”Ÿæˆå™¨** (`randomIdiom.ts`): æ™ºèƒ½æˆè¯­é€‰æ‹©
4. **æ¨¡å¼é€‰æ‹©ç•Œé¢** (`GameModeSelector.vue`): ç¾è§‚çš„æ¨¡å¼é€‰æ‹©UI

### å¤ç”¨ä¼˜åŠ¿
- **ç¨³å®šæ€§**: å¤ç”¨ç»è¿‡éªŒè¯çš„æ ¸å¿ƒé€»è¾‘
- **ä¸€è‡´æ€§**: ä¿æŒUIé£æ ¼å’Œäº¤äº’ä½“éªŒç»Ÿä¸€
- **æ•ˆç‡æ€§**: å¤§å¹…å‡å°‘å¼€å‘æ—¶é—´å’Œæˆæœ¬
- **ç»´æŠ¤æ€§**: é™ä½åç»­ç»´æŠ¤å¤æ‚åº¦

### è¯¦ç»†å¤ç”¨åˆ†æ
è¯¦è§ã€Šä»£ç å¤ç”¨åˆ†æ.mdã€‹æ–‡æ¡£ï¼ŒåŒ…å«å®Œæ•´çš„æ–‡ä»¶æ¸…å•ã€å¤ç”¨ç­–ç•¥å’Œé£é™©è¯„ä¼°ã€‚

## ä»£ç å¤ç”¨ç­–ç•¥è¯¦è§£

### é«˜å¤ç”¨æ€§ç»„ä»¶ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰
**90%ä»¥ä¸Šä»£ç å¯ç›´æ¥å¤ç”¨**ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

#### æ ¸å¿ƒé€»è¾‘æ¨¡å—
- âœ… **æˆè¯­éªŒè¯** (`check.ts`): æˆè¯­æœ‰æ•ˆæ€§æ£€æŸ¥é€»è¾‘å®Œå…¨å¤ç”¨
- âœ… **å·¥å…·å‡½æ•°** (`utils.ts`): æ‹¼éŸ³è§£æã€ç­”æ¡ˆæ£€æŸ¥ã€çŠ¶æ€åˆ¤æ–­ç­‰å‡½æ•°
- âœ… **æˆè¯­æ•°æ®** (`idioms.ts`): æˆè¯­åˆ—è¡¨ã€å¤šéŸ³å­—å¤„ç†ç­‰æ•°æ®å±‚
- âœ… **ç±»å‹å®šä¹‰** (`types.ts`): æ‰€æœ‰æ¥å£å’Œç±»å‹å®šä¹‰ä¿æŒä¸å˜
- âœ… **æ¸¸æˆå¸¸é‡** (`constants.ts`): WORD_LENGTHã€TRIES_LIMITç­‰å¸¸é‡

#### UIç»„ä»¶å±‚
- âœ… **å­—ç¬¦å—ç»„ä»¶** (`CharBlock.vue`): å•ä¸ªå­—ç¬¦æ˜¾ç¤ºå’ŒçŠ¶æ€æ¸²æŸ“
- âœ… **è¯è¯­å—ç»„ä»¶** (`WordBlocks.vue`): è¯è¯­ç½‘æ ¼å¸ƒå±€å’ŒåŠ¨ç”»æ•ˆæœ
- âœ… **å¯¼èˆªæ ç»„ä»¶** (`Navbar.vue`): é¡¶éƒ¨å¯¼èˆªå’ŒåŠŸèƒ½æŒ‰é’®
- âœ… **æ¨¡æ€æ¡†ç»„ä»¶** (`Modal.vue`): å¼¹çª—å’Œå¯¹è¯æ¡†ç»„ä»¶
- âœ… **è¾“å…¥ç»„ä»¶**: æ‹¼éŸ³è¾“å…¥ã€é”®ç›˜äº¤äº’ç­‰ç°æœ‰ç»„ä»¶

#### æ ·å¼å’Œé…ç½®
- âœ… **UnoCSSé…ç½®** (`unocss.config.ts`): åŸå­ç±»æ ·å¼ç³»ç»Ÿ
- âœ… **åŸºç¡€æ ·å¼** (`styles/main.css`): ä¸»é¢˜å˜é‡ã€åŠ¨ç”»ã€å“åº”å¼æ ·å¼
- âœ… **Viteé…ç½®** (`vite.config.ts`): æ„å»ºå·¥å…·é…ç½®
- âœ… **TypeScripté…ç½®** (`tsconfig.json`): ç±»å‹æ£€æŸ¥é…ç½®

### éœ€è¦ä¿®æ”¹çš„ç»„ä»¶ï¼ˆ10%ä¿®æ”¹ï¼‰

#### è½»åº¦ä¿®æ”¹ï¼ˆæ·»åŠ æ¨¡å¼æ”¯æŒï¼‰
- ğŸ› ï¸ **ä¸»åº”ç”¨** (`App.vue`): æ·»åŠ æ¨¡å¼é€‰æ‹©ç•Œé¢æ¸²æŸ“é€»è¾‘
- ğŸ› ï¸ **æ¸¸æˆä¸»ç»„ä»¶** (`Play.vue`): æ·»åŠ æ— å°½æ¨¡å¼çŠ¶æ€ç®¡ç†
- ğŸ› ï¸ **ä¸»å…¥å£** (`main.ts`): å¯é€‰çš„æ¨¡å¼åˆå§‹åŒ–é€»è¾‘

#### ä¸­åº¦ä¿®æ”¹ï¼ˆåŠŸèƒ½è°ƒæ•´ï¼‰
- ğŸ› ï¸ **å­˜å‚¨ç®¡ç†** (`storage.ts`): åˆ é™¤ä¸¥æ ¼æ¨¡å¼ç›¸å…³ä»£ç 
- ğŸ› ï¸ **åˆ†äº«ç»„ä»¶** (`ShareButton.vue`): ç§»é™¤å¾®åš/æ¨ç‰¹åˆ†äº«é€‰é¡¹

### å…¨æ–°åˆ›å»ºç»„ä»¶ï¼ˆçº¦5ä¸ªæ–‡ä»¶ï¼‰
- ğŸ†• **æ¨¡å¼ç®¡ç†** (`mode.ts`): æ¨¡å¼åˆ‡æ¢å’ŒçŠ¶æ€ç®¡ç†
- ğŸ†• **æ— å°½æ¨¡å¼å¼•æ“** (`endless.ts`): è½®æ¬¡ç®¡ç†å’ŒçŠ¶æ€ç»´æŠ¤
- ğŸ†• **éšæœºæˆè¯­ç”Ÿæˆå™¨** (`randomIdiom.ts`): æ™ºèƒ½æˆè¯­é€‰æ‹©å’Œå»é‡
- ğŸ†• **æ¨¡å¼é€‰æ‹©ç•Œé¢** (`GameModeSelector.vue`): ç¾è§‚çš„æ¨¡å¼é€‰æ‹©UI

### å¤ç”¨ä¼˜åŠ¿
1. **ç¨³å®šæ€§**: å¤ç”¨ç»è¿‡éªŒè¯çš„æ ¸å¿ƒé€»è¾‘ï¼Œé™ä½bugé£é™©
2. **ä¸€è‡´æ€§**: ä¿æŒUIé£æ ¼å’Œäº¤äº’ä½“éªŒçš„ä¸€è‡´æ€§
3. **å¼€å‘æ•ˆç‡**: å¤§å¹…å‡å°‘å¼€å‘æ—¶é—´ï¼Œä¸“æ³¨æ–°æ¨¡å¼é€»è¾‘
4. **ç»´æŠ¤æ€§**: å‡å°‘ä»£ç é‡å¤ï¼Œä¾¿äºåç»­ç»´æŠ¤

### å¤ç”¨æ³¨æ„äº‹é¡¹
1. **ä¾èµ–æ£€æŸ¥**: ç¡®ä¿å¤ç”¨ç»„ä»¶çš„ä¾èµ–é¡¹éƒ½å·²æ»¡è¶³
2. **çŠ¶æ€éš”ç¦»**: ä¸åŒæ¨¡å¼é—´çš„çŠ¶æ€éœ€è¦æ­£ç¡®éš”ç¦»
3. **æ ·å¼å†²çª**: æ–°å¢ç»„ä»¶æ ·å¼ä¸è¦å½±å“ç°æœ‰æ ·å¼
4. **æ€§èƒ½è€ƒè™‘**: é¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“å’Œæ•°æ®åŠ è½½

## ç»´æŠ¤æŒ‡å—

### ä»£ç è§„èŒƒ
1. **TypeScriptè§„èŒƒ**
   - æ‰€æœ‰å‡½æ•°æ·»åŠ ç±»å‹æ³¨è§£
   - ä½¿ç”¨æ¥å£å®šä¹‰æ•°æ®ç»“æ„
   - é¿å…ä½¿ç”¨anyç±»å‹

2. **Vueè§„èŒƒ**
   - ä½¿ç”¨Composition API
   - ç»„ä»¶å‘½åé‡‡ç”¨PascalCase
   - é€»è¾‘å¤ç”¨ä½¿ç”¨composables

3. **æ ·å¼è§„èŒƒ**
   - ä½¿ç”¨UnoCSSåŸå­ç±»
   - é¿å…å†…è”æ ·å¼
   - å“åº”å¼è®¾è®¡ä¼˜å…ˆ

### æ€§èƒ½ä¼˜åŒ–
1. **ä»£ç åˆ†å‰²**
   - æ¨¡å¼é€‰æ‹©ç»„ä»¶æ‡’åŠ è½½
   - æˆè¯­æ•°æ®å¼‚æ­¥åŠ è½½
   - è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²

2. **ç¼“å­˜ç­–ç•¥**
   - æˆè¯­æ•°æ®å†…å­˜ç¼“å­˜
   - æ¨¡å¼é€‰æ‹©çŠ¶æ€ç¼“å­˜
   - æ¸¸æˆçŠ¶æ€æŒ‰éœ€é‡ç½®

### ç›‘æ§æŒ‡æ ‡
1. **æ€§èƒ½æŒ‡æ ‡**
   - é¡µé¢åŠ è½½æ—¶é—´
   - æ¨¡å¼åˆ‡æ¢æ—¶é—´
   - ç”¨æˆ·äº¤äº’å“åº”æ—¶é—´

2. **é”™è¯¯æŒ‡æ ‡**
   - JavaScripté”™è¯¯ç‡
   - APIè°ƒç”¨å¤±è´¥ç‡
   - ç”¨æˆ·ä½“éªŒé—®é¢˜æŠ¥å‘Š

## æ‰©å±•è§„åˆ’

### çŸ­æœŸæ‰©å±•ï¼ˆ1-3ä¸ªæœˆï¼‰
1. **æ›´å¤šæ¸¸æˆæ¨¡å¼**
   - é™æ—¶æŒ‘æˆ˜æ¨¡å¼
   - å¤šäººå¯¹æˆ˜æ¨¡å¼
   - ä¸»é¢˜æˆè¯­æ¨¡å¼

2. **åŠŸèƒ½å¢å¼º**
   - æˆè¯­è§£é‡Šæ˜¾ç¤º
   - å‘éŸ³åŠŸèƒ½
   - æ”¶è—å¤¹åŠŸèƒ½

### é•¿æœŸè§„åˆ’ï¼ˆ3-12ä¸ªæœˆï¼‰
1. **ç¤¾äº¤åŠŸèƒ½**
   - å¥½å‹ç³»ç»Ÿ
   - æ’è¡Œæ¦œ
   - æŒ‘æˆ˜åŠŸèƒ½

2. **ä¸ªæ€§åŒ–**
   - ç”¨æˆ·åå¥½è®¾ç½®
   - æ™ºèƒ½æ¨è
   - å­¦ä¹ è·¯å¾„

3. **å•†ä¸šåŒ–**
   - ä¼šå‘˜åŠŸèƒ½
   - å¹¿å‘Šé›†æˆ
   - ä»˜è´¹å†…å®¹

## æ€»ç»“

æœ¬æ¬¡äºŒæ¬¡å¼€å‘åœ¨ä¿æŒåŸæœ‰é¡¹ç›®æ¶æ„çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æ¨¡å—åŒ–çš„æ–¹å¼æ·»åŠ äº†æ¸¸æˆæ¨¡å¼é€‰æ‹©åŠŸèƒ½ã€‚æ•´ä¸ªå¼€å‘è¿‡ç¨‹éµå¾ªæ¸è¿›å¼å¢å¼ºçš„åŸåˆ™ï¼Œç¡®ä¿ç°æœ‰åŠŸèƒ½ä¸å—å½±å“çš„åŒæ—¶ï¼Œä¸ºç”¨æˆ·æä¾›æ›´ä¸°å¯Œçš„æ¸¸æˆä½“éªŒã€‚

å¼€å‘æ–‡æ¡£æ¶µç›–äº†ä»éœ€æ±‚åˆ†æåˆ°éƒ¨ç½²ç»´æŠ¤çš„å®Œæ•´æµç¨‹ï¼Œä¸ºåç»­å¼€å‘å’Œç»´æŠ¤æä¾›äº†è¯¦ç»†çš„æŒ‡å¯¼ã€‚é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡å’Œä»£ç è§„èŒƒï¼Œç¡®ä¿äº†é¡¹ç›®çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚